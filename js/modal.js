var Modal=function(){var c={},r,t,k,n,u,p,d=document.createElement("div"),a=document.createElement("div"),e=document.createElement("div"),f=document.createElement("div"),h=document.createElement("div"),q;c.open=function(b){r=b.width||"50%";t=b.height||"auto";k=b.lock||!1;n=b.hideClose||!1;u=b.draggable||!1;p=b.closeAfter||0;b.content&&!b.ajaxContent?b.content instanceof Element?f.appendChild(b.content):f.innerHTML=b.content:b.ajaxContent&&!b.content?(a.className="modal-loading",c.ajax(b.ajaxContent,function(a){f.innerHTML=a})):f.innerHTML="";a.style.width=r;a.style.height=t;c.center({});if(k||n)h.style.visibility="hidden";d.style.visibility="visible";a.style.visibility="visible";document.onkeypress=function(a){27===a.keyCode&&!0!==k&&c.close()};h.onclick=function(){if(n)return!1;c.close()};d.onclick=function(){if(k)return!1;c.close()};window.onresize=function(){c.center({})};u?(e.style.cursor="move",e.onmousedown=function(a){c.drag(a);return!1}):e.onmousedown=function(){return!1};0<p&&(q=setTimeout(function(){c.close()},1E3*p))};c.drag=function(b){var c=void 0!==window.event?window.event.clientX:b.clientX,l=void 0!==window.event?window.event.clientY:b.clientY,g=c-a.offsetLeft,d=l-a.offsetTop;document.onmousemove=function(b){c=void 0!==window.event?window.event.clientX:b.clientX;l=void 0!==window.event?window.event.clientY:b.clientY;a.style.left=0<c-g?c-g+"px":"0px";a.style.top=0<l-d?l-d+"px":"0px";document.onmouseup=function(){window.document.onmousemove=null}}};c.ajax=function(b,c){var d,g=!1,e=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP.6.0")},function(){return new ActiveXObject("Msxml2.XMLHTTP.3.0")},function(){return new ActiveXObject("Msxml2.XMLHTTP")}];for(d=0;d<e.length;d+=1){try{g=e[d]()}catch(f){}if(!1!==g)break}g.open("GET",b,!0);g.onreadystatechange=function(){4===g.readyState&&(c(g.responseText),a.removeAttribute("class"))};g.send(null)};c.close=function(){f.innerHTML="";d.setAttribute("style","");d.style.cssText="";d.style.visibility="hidden";a.setAttribute("style","");a.style.cssText="";a.style.visibility="hidden";e.style.cursor="default";h.setAttribute("style","");h.style.cssText="";q&&clearTimeout(q)};c.center=function(b){var c=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),e=Math.max(a.clientWidth,a.offsetWidth),g=Math.max(a.clientHeight,a.offsetHeight),f=0,h=0,k=0,m=0;"number"===typeof window.innerWidth?(f=window.innerWidth,h=window.innerHeight):document.documentElement&&document.documentElement.clientWidth&&(f=document.documentElement.clientWidth,h=document.documentElement.clientHeight);"number"===typeof window.pageYOffset?(m=window.pageYOffset,k=window.pageXOffset):document.body&&document.body.scrollLeft?(m=document.body.scrollTop,k=document.body.scrollLeft):document.documentElement&&document.documentElement.scrollLeft&&(m=document.documentElement.scrollTop,k=document.documentElement.scrollLeft);b.horizontalOnly||(a.style.top=m+h/2-g/2+"px");a.style.left=k+f/2-e/2+"px";d.style.height=c+"px";d.style.width="100%"};d.setAttribute("id","modal-overlay");a.setAttribute("id","modal-container");e.setAttribute("id","modal-header");f.setAttribute("id","modal-content");h.setAttribute("id","modal-close");e.appendChild(h);a.appendChild(e);a.appendChild(f);d.style.visibility="hidden";a.style.visibility="hidden";window.onload=function(){document.body.appendChild(d);document.body.appendChild(a)};return c}();